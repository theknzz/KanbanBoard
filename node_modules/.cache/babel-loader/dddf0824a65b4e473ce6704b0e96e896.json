{"ast":null,"code":"var _jsxFileName = \"/home/joaquim/internship/react-dnd-course/src/App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport initialData from \"./initial-data\";\nimport Column from './components/Column.jsx';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport styled from 'styled-components';\nconst Container = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n`;\n\nfunction App() {\n  const [state, setState] = useState(initialData); // const onDragStart = (result) => {\n  //   document.body.style.color = 'orange';\n  // }\n  //\n  // const onDragUpdate = (result) => {\n  //     document.body.style.color = 'red';\n  // }\n\n  const onDragEnd = result => {\n    // document.body.style.color = 'inherit';\n    console.log(result);\n    const {\n      destination,\n      source,\n      draggableId\n    } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (destination.droppableId === source.droppableId && destination.index === source.index) {\n      return;\n    }\n\n    const column = state.columns[source.droppableId];\n    const newTaskIds = Array.from(column.taskIds);\n    const destColumn = state.columns[destination.droppableId];\n    const newListTask = Array.from(destColumn.taskIds);\n    newTaskIds.splice(source.index, 1);\n    newTaskIds.splice(destination.index, 0, draggableId);\n    newListTask.splice(destination.index, 0, draggableId);\n    const newColumn = { ...column,\n      taskIds: newTaskIds\n    };\n    const newState = { ...state,\n      columns: { ...state.columns,\n        [newColId]: newColumn\n      }\n    };\n    setState(newState);\n  };\n\n  return /*#__PURE__*/React.createElement(DragDropContext, {\n    onDragEnd: onDragEnd // onDragStart={onDragStart}\n    // onDragUpdate={onDragUpdate}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, state.columnOrder.map(columnId => {\n    const column = state.columns[columnId];\n    const tasks = column.taskIds.map(taskId => state.tasks[taskId]);\n    return /*#__PURE__*/React.createElement(Column, {\n      key: column.id,\n      column: column,\n      tasks: tasks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 24\n      }\n    });\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/joaquim/internship/react-dnd-course/src/App.js"],"names":["React","useState","initialData","Column","DragDropContext","styled","Container","div","App","state","setState","onDragEnd","result","console","log","destination","source","draggableId","droppableId","index","column","columns","newTaskIds","Array","from","taskIds","destColumn","newListTask","splice","newColumn","newState","newColId","columnOrder","map","columnId","tasks","taskId","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAGA,MAAMC,SAAS,GAAGD,MAAM,CAACE,GAAI;AAC7B;AACA;AACA,CAHA;;AAKA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAACC,WAAD,CAAlC,CADa,CAGb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMS,SAAS,GAAIC,MAAD,IAAY;AAC1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,UAAM;AAAEG,MAAAA,WAAF;AAAeC,MAAAA,MAAf;AAAuBC,MAAAA;AAAvB,QAAuCL,MAA7C;;AAEA,QAAI,CAACG,WAAL,EAAkB;AACd;AACH;;AAED,QACIA,WAAW,CAACG,WAAZ,KAA4BF,MAAM,CAACE,WAAnC,IACAH,WAAW,CAACI,KAAZ,KAAsBH,MAAM,CAACG,KAFjC,EAGE;AACE;AACH;;AAED,UAAMC,MAAM,GAAGX,KAAK,CAACY,OAAN,CAAcL,MAAM,CAACE,WAArB,CAAf;AACA,UAAMI,UAAU,GAAGC,KAAK,CAACC,IAAN,CAAWJ,MAAM,CAACK,OAAlB,CAAnB;AAEA,UAAMC,UAAU,GAAGjB,KAAK,CAACY,OAAN,CAAcN,WAAW,CAACG,WAA1B,CAAnB;AACA,UAAMS,WAAW,GAAGJ,KAAK,CAACC,IAAN,CAAWE,UAAU,CAACD,OAAtB,CAApB;AAEAH,IAAAA,UAAU,CAACM,MAAX,CAAkBZ,MAAM,CAACG,KAAzB,EAAgC,CAAhC;AACAG,IAAAA,UAAU,CAACM,MAAX,CAAkBb,WAAW,CAACI,KAA9B,EAAqC,CAArC,EAAwCF,WAAxC;AAEAU,IAAAA,WAAW,CAACC,MAAZ,CAAmBb,WAAW,CAACI,KAA/B,EAAsC,CAAtC,EAAyCF,WAAzC;AAIA,UAAMY,SAAS,GAAG,EACd,GAAGT,MADW;AAEdK,MAAAA,OAAO,EAAEH;AAFK,KAAlB;AAKA,UAAMQ,QAAQ,GAAG,EACb,GAAGrB,KADU;AAEbY,MAAAA,OAAO,EAAE,EACL,GAAGZ,KAAK,CAACY,OADJ;AAEL,SAACU,QAAD,GAAYF;AAFP;AAFI,KAAjB;AAQAnB,IAAAA,QAAQ,CAACoB,QAAD,CAAR;AACH,GA3CD;;AA6CA,sBACI,oBAAC,eAAD;AACE,IAAA,SAAS,EAAEnB,SADb,CAEE;AACA;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,KAAK,CAACuB,WAAN,CAAkBC,GAAlB,CAAuBC,QAAQ,IAAI;AAClC,UAAMd,MAAM,GAAGX,KAAK,CAACY,OAAN,CAAca,QAAd,CAAf;AACA,UAAMC,KAAK,GAAGf,MAAM,CAACK,OAAP,CAAeQ,GAAf,CAAoBG,MAAM,IAAI3B,KAAK,CAAC0B,KAAN,CAAYC,MAAZ,CAA9B,CAAd;AAEA,wBAAO,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEhB,MAAM,CAACiB,EAApB;AAAwB,MAAA,MAAM,EAAEjB,MAAhC;AAAwC,MAAA,KAAK,EAAEe,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GALA,CADL,CALJ,CADJ;AAgBD;;AAED,eAAe3B,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport initialData from \"./initial-data\";\nimport Column from './components/Column.jsx'\nimport { DragDropContext } from 'react-beautiful-dnd'\nimport styled from 'styled-components'\n\n\nconst Container = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n`\n\nfunction App() {\n  const [state, setState] = useState(initialData);\n\n  // const onDragStart = (result) => {\n  //   document.body.style.color = 'orange';\n  // }\n  //\n  // const onDragUpdate = (result) => {\n  //     document.body.style.color = 'red';\n  // }\n\n  const onDragEnd = (result) => {\n      // document.body.style.color = 'inherit';\n      console.log(result)\n      const { destination, source, draggableId } = result;\n\n      if (!destination) {\n          return;\n      }\n\n      if (\n          destination.droppableId === source.droppableId &&\n          destination.index === source.index\n      ) {\n          return;\n      }\n\n      const column = state.columns[source.droppableId];\n      const newTaskIds = Array.from(column.taskIds);\n\n      const destColumn = state.columns[destination.droppableId];\n      const newListTask = Array.from(destColumn.taskIds);\n\n      newTaskIds.splice(source.index, 1);\n      newTaskIds.splice(destination.index, 0, draggableId);\n\n      newListTask.splice(destination.index, 0, draggableId);\n\n      \n\n      const newColumn = {\n          ...column,\n          taskIds: newTaskIds,\n      }\n\n      const newState = {\n          ...state,\n          columns: {\n              ...state.columns,\n              [newColId]: newColumn,\n          }\n      }\n\n      setState(newState);\n  }\n\n  return (\n      <DragDropContext\n        onDragEnd={onDragEnd}\n        // onDragStart={onDragStart}\n        // onDragUpdate={onDragUpdate}\n      >\n          <Container>\n              {state.columnOrder.map( columnId => {\n                const column = state.columns[columnId];\n                const tasks = column.taskIds.map( taskId => state.tasks[taskId]);\n\n                return <Column key={column.id} column={column} tasks={tasks} />\n              })}\n          </Container>\n      </DragDropContext>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}