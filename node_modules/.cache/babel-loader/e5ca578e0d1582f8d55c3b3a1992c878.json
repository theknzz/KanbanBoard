{"ast":null,"code":"import _toConsumableArray from\"/home/joaquim/internship/kanban/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/joaquim/internship/kanban/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/joaquim/internship/kanban/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import initialData from\"../../initial-data\";var rootReducer=function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialData;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'CREATE_TASK':var newTasks=_objectSpread(_objectSpread({},state.tasks),{},_defineProperty({},action.id,{id:action.id,content:action.taskInfo.task}));var taskList=state.columns[action.taskInfo.columnId].taskIds;var newColumns=_objectSpread(_objectSpread({},state.columns),{},_defineProperty({},action.taskInfo.columnId,{id:action.taskInfo.columnId,title:action.taskInfo.title,taskIds:[].concat(_toConsumableArray(taskList),[action.id])}));return _objectSpread(_objectSpread({},state),{},{tasks:newTasks,columns:newColumns});case'UPDATE_BOARD':return{tasks:action.board.tasks,columns:action.board.columns,columnOrder:action.board.columnOrder};case'DELETE_TASK':// filter all the tasks and delete the respective one\nvar tasks=state.tasks;delete tasks[action.taskId];console.log(tasks);// pick the task's column\nvar col=state.columns[action.columnId];// get the tasks from that column\nvar tasksFromCol=Array.from(col.taskIds);// filter those tasks and delete the respective one\ntasksFromCol=tasksFromCol.filter(function(task){return task!==action.taskId;});// update the state\nreturn _objectSpread(_objectSpread({},state),{},{tasks:tasks,columns:_objectSpread(_objectSpread({},state.columns),{},_defineProperty({},col.id,_objectSpread(_objectSpread({},col),{},{taskIds:tasksFromCol})))});default:return state;}};export default rootReducer;","map":{"version":3,"sources":["/home/joaquim/internship/kanban/src/store/reducers/rootReducer.js"],"names":["initialData","rootReducer","state","action","type","newTasks","tasks","id","content","taskInfo","task","taskList","columns","columnId","taskIds","newColumns","title","board","columnOrder","taskId","console","log","col","tasksFromCol","Array","from","filter"],"mappings":"2cAAA,MAAOA,CAAAA,WAAP,KAAwB,oBAAxB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAkC,IAAhCC,CAAAA,KAAgC,2DAAxBF,WAAwB,IAAXG,CAAAA,MAAW,2CAClD,OAAOA,MAAM,CAACC,IAAd,EACI,IAAK,aAAL,CACI,GAAMC,CAAAA,QAAQ,gCACPH,KAAK,CAACI,KADC,wBAETH,MAAM,CAACI,EAFE,CAEG,CACTA,EAAE,CAAEJ,MAAM,CAACI,EADF,CAETC,OAAO,CAAEL,MAAM,CAACM,QAAP,CAAgBC,IAFhB,CAFH,EAAd,CAQA,GAAMC,CAAAA,QAAQ,CAAGT,KAAK,CAACU,OAAN,CAAcT,MAAM,CAACM,QAAP,CAAgBI,QAA9B,EAAwCC,OAAzD,CAEA,GAAMC,CAAAA,UAAU,gCACTb,KAAK,CAACU,OADG,wBAEXT,MAAM,CAACM,QAAP,CAAgBI,QAFL,CAEgB,CACxBN,EAAE,CAAEJ,MAAM,CAACM,QAAP,CAAgBI,QADI,CAExBG,KAAK,CAAEb,MAAM,CAACM,QAAP,CAAgBO,KAFC,CAGxBF,OAAO,8BAAMH,QAAN,GAAgBR,MAAM,CAACI,EAAvB,EAHiB,CAFhB,EAAhB,CASA,sCACOL,KADP,MAEII,KAAK,CAAED,QAFX,CAGIO,OAAO,CAAEG,UAHb,GAKJ,IAAK,cAAL,CACI,MAAO,CACHT,KAAK,CAAEH,MAAM,CAACc,KAAP,CAAaX,KADjB,CAEHM,OAAO,CAAET,MAAM,CAACc,KAAP,CAAaL,OAFnB,CAGHM,WAAW,CAAEf,MAAM,CAACc,KAAP,CAAaC,WAHvB,CAAP,CAKJ,IAAK,aAAL,CACI;AACA,GAAMZ,CAAAA,KAAK,CAAGJ,KAAK,CAACI,KAApB,CAEA,MAAOA,CAAAA,KAAK,CAACH,MAAM,CAACgB,MAAR,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYf,KAAZ,EACA;AACA,GAAIgB,CAAAA,GAAG,CAAGpB,KAAK,CAACU,OAAN,CAAcT,MAAM,CAACU,QAArB,CAAV,CAEA;AACA,GAAIU,CAAAA,YAAY,CAAGC,KAAK,CAACC,IAAN,CAAWH,GAAG,CAACR,OAAf,CAAnB,CAEA;AACAS,YAAY,CAAGA,YAAY,CAACG,MAAb,CAAoB,SAAAhB,IAAI,CAAI,CACvC,MAAOA,CAAAA,IAAI,GAAKP,MAAM,CAACgB,MAAvB,CACH,CAFc,CAAf,CAIA;AACA,sCACOjB,KADP,MAEII,KAAK,CAALA,KAFJ,CAGIM,OAAO,gCACAV,KAAK,CAACU,OADN,wBAEFU,GAAG,CAACf,EAFF,gCAGIe,GAHJ,MAICR,OAAO,CAAES,YAJV,IAHX,GAWJ,QACI,MAAOrB,CAAAA,KAAP,CA9DR,CAgEH,CAjED,CAmEA,cAAeD,CAAAA,WAAf","sourcesContent":["import initialData from \"../../initial-data\";\n\nconst rootReducer = ( state = initialData, action) => {\n    switch(action.type) {\n        case 'CREATE_TASK':\n            const newTasks = {\n                ...state.tasks,\n                [action.id]: {\n                    id: action.id,\n                    content: action.taskInfo.task,\n                }\n            };\n\n            const taskList = state.columns[action.taskInfo.columnId].taskIds;\n\n            const newColumns = {\n                ...state.columns,\n                [action.taskInfo.columnId]: {\n                    id: action.taskInfo.columnId,\n                    title: action.taskInfo.title,\n                    taskIds: [...taskList, action.id]\n                }\n            }\n\n            return {\n                ...state,\n                tasks: newTasks,\n                columns: newColumns,\n            }\n        case 'UPDATE_BOARD':\n            return {\n                tasks: action.board.tasks,\n                columns: action.board.columns,\n                columnOrder: action.board.columnOrder,\n            }\n        case 'DELETE_TASK':\n            // filter all the tasks and delete the respective one\n            const tasks = state.tasks;\n\n            delete tasks[action.taskId];\n            console.log(tasks)\n            // pick the task's column\n            let col = state.columns[action.columnId];\n\n            // get the tasks from that column\n            let tasksFromCol = Array.from(col.taskIds);\n\n            // filter those tasks and delete the respective one\n            tasksFromCol = tasksFromCol.filter(task => {\n                return task !== action.taskId\n            });\n\n            // update the state\n            return {\n                ...state,\n                tasks,\n                columns: {\n                    ...state.columns,\n                    [col.id]: {\n                        ...col,\n                        taskIds: tasksFromCol,\n                    }\n                }\n            };\n        default:\n            return state;\n    }\n}\n\nexport default rootReducer"]},"metadata":{},"sourceType":"module"}