(this["webpackJsonpreact-dnd-course"]=this["webpackJsonpreact-dnd-course"]||[]).push([[0],{23:function(n,e,t){n.exports=t(37)},28:function(n,e,t){},29:function(n,e,t){},37:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),c=t(8),o=t.n(c),i=(t(28),t(7)),l=t(2),u=t(3),s=(t(29),{tasks:{},columns:{"column-1":{id:"column-1",title:"To do",taskIds:[]},"column-2":{id:"column-2",title:"Progress",taskIds:[]},"column-3":{id:"column-3",title:"Done",taskIds:[]}},columnOrder:["column-1","column-2","column-3"]}),d=t(22),m=t(4),f=t(10);function b(){var n=Object(u.a)(["\n    text-align: center;\n    vertical-align: center;\n"]);return b=function(){return n},n}function p(){var n=Object(u.a)(["\n    height: 0%;\n    margin-left: 20px;\n    height: 30px;\n    width: 30px;\n    display: flex;\n    border-radius: 20px;\n    align-items: center;\n    justify-content: center;\n    background-color: #9cc5a1;\n"]);return p=function(){return n},n}function g(){var n=Object(u.a)(["\n    border: 1px solid lightgrey;\n    border-radius: 2px;\n    padding: 9px;\n    display: flex;\n    margin-bottom: 8px;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n    justify-content: space-between;\n    background-color: ",";\n"]);return g=function(){return n},n}var k=m.a.div(g(),(function(n){return n.isDragging?"lightgreen":"white"})),O=m.a.button(p()),v=m.a.i(b()),j=function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{draggableId:n.task.id,index:n.index},(function(e,t){return r.a.createElement(k,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,isDragging:t.isDragging}),n.task.content,r.a.createElement(O,{onClick:n.onClick,className:"waves-effect btn waves-light"},r.a.createElement(v,{className:"material-icons"},"check")))})))},x=t(5),I=100;function E(){var n=Object(u.a)(["\n    padding: 8px;\n"]);return E=function(){return n},n}function h(){var n=Object(u.a)(["\n    padding: 8px;\n    transition: background-color 0.2s ease;\n    background-color: ",";\n    flex-grow: 1;\n"]);return h=function(){return n},n}function y(){var n=Object(u.a)(["\n    padding: 8px;\n    text-align: center;\n"]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\n    margin: 8px;\n    border: 1px solid lightgrey;\n    border-radius: 2px;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n    background-color: #9CC5A1;\n"]);return w=function(){return n},n}var T=m.a.div(w()),A=m.a.h3(y()),D=m.a.div(h(),(function(n){return n.isDraggingOver?"skyblue":"white"})),C=m.a.div(E()),B=Object(x.b)(null,(function(n){return{submitTask:function(e){return n(function(n){return{type:"CREATE_TASK",id:"task-".concat(++I),taskInfo:n}}(e))},finishTask:function(e,t){return n(function(n,e){return{type:"DELETE_TASK",taskId:n,columnId:e}}(e,t))}}}))((function(n){var e=Object(a.useState)({columnId:n.column.id,task:"",title:n.column.title}),t=Object(d.a)(e,2),c=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null,r.a.createElement(A,null,n.column.title),r.a.createElement(f.c,{droppableId:n.column.id},(function(e,t){return r.a.createElement(D,Object.assign({ref:e.innerRef},e.droppableProps,{isDraggingOver:t.isDraggingOver}),n.tasks&&n.tasks.map((function(e,t){return r.a.createElement(j,{onClick:function(){return t=e.id,a=n.column.id,void n.finishTask(t,a);var t,a},key:e.id,task:e,index:t})})),e.placeholder)})),r.a.createElement(C,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.submitTask(c),o(Object(l.a)(Object(l.a)({},c),{},{task:""}))}},r.a.createElement("input",{placeholder:"Type new task",value:c.task,onChange:function(e){var t=e.target.value,a=Object(l.a)(Object(l.a)({},c),{},{task:t,title:n.column.title});o(a)},type:"text"})))))}));function S(){var n=Object(u.a)(["\n    color: #9CC5A1;\n    text-shadow: 2px 2px #1F2421;\n"]);return S=function(){return n},n}function P(){var n=Object(u.a)(["\n    display: flex;\n    background-color: #216869;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100px;\n    \n"]);return P=function(){return n},n}var R=m.a.div(P()),_=m.a.h1(S()),K=function(n){return r.a.createElement(R,null,r.a.createElement(_,null,"Kanban Board"))};function F(){var n=Object(u.a)(["\n    display: flex;\n    flex-wrap: wrap;\n"]);return F=function(){return n},n}var J=m.a.div(F());var L=Object(x.b)((function(n){return{columnOrder:n.columnOrder,cols:n.columns,tasks:n.tasks}}),(function(n){return{updateBoard:function(e){return n(function(n){return{type:"UPDATE_BOARD",board:n}}(e))}}}))((function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(f.a,{onDragEnd:function(e){var t;console.log(e);var a=e.destination,r=e.source,c=e.draggableId;if(a&&(a.droppableId!==r.droppableId||a.index!==r.index)){var o=n.cols[r.droppableId],u=Array.from(o.taskIds),s=n.cols[a.droppableId],d=Array.from(s.taskIds);u.splice(r.index,1),console.log("track",u);var m=r.droppableId===a.droppableId;m&&u.splice(a.index,0,c),d.splice(a.index,0,c);var f=Object(l.a)(Object(l.a)({},o),{},{taskIds:u}),b=Object(l.a)(Object(l.a)({},s),{},{taskIds:m?u:d}),p={tasks:n.tasks,columnOrder:n.columnOrder,columns:Object(l.a)(Object(l.a)({},n.cols),{},(t={},Object(i.a)(t,r.droppableId,f),Object(i.a)(t,a.droppableId,b),t))};n.updateBoard(p)}}},r.a.createElement(J,null,n.columnOrder&&n.columnOrder.map((function(e){var t=n.cols[e],a=t.taskIds&&t.taskIds.map((function(e){return n.tasks[e]}));return console.log("dbg:",n),r.a.createElement(B,{key:t.id,column:t,tasks:a})})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=t(6),U=t(21),W=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_TASK":var t=Object(l.a)(Object(l.a)({},n.tasks),{},Object(i.a)({},e.id,{id:e.id,content:e.taskInfo.task})),a=n.columns[e.taskInfo.columnId].taskIds,r=Object(l.a)(Object(l.a)({},n.columns),{},Object(i.a)({},e.taskInfo.columnId,{id:e.taskInfo.columnId,title:e.taskInfo.title,taskIds:[].concat(Object(U.a)(a),[e.id])}));return Object(l.a)(Object(l.a)({},n),{},{tasks:t,columns:r});case"UPDATE_BOARD":return{tasks:e.board.tasks,columns:e.board.columns,columnOrder:e.board.columnOrder};case"DELETE_TASK":var c=n.tasks;delete c[e.taskId],console.log(c);var o=n.columns[e.columnId],u=Array.from(o.taskIds);return u=u.filter((function(n){return n!==e.taskId})),Object(l.a)(Object(l.a)({},n),{},{tasks:c,columns:Object(l.a)(Object(l.a)({},n.columns),{},Object(i.a)({},o.id,Object(l.a)(Object(l.a)({},o),{},{taskIds:u})))});default:return n}},H=Object(N.d)(W);o.a.render(r.a.createElement(x.a,{store:H},r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.ec7bdf0b.chunk.js.map